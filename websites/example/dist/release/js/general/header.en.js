var url_params=new URLSearchParams(window.location.search),user_types={"0":"customer","1":"writer","2":"moderator","3":"admin"},languages={"TR":"1","EN":"2"},_valids={"!key!":"!value!"},_errors={"!key!":"!value!"},_logins={"!key!":"!value!"},language="@language@",site="morkoc",firer=(defer=!(jsons={}),user_id=!1,function(){var e,t;site_url="/",api_url=site_url+"api/",general_api_url=api_url+"general/",(e=getLogin())?(username=e.username,user_image=e.img,user_rank=e.rank,user_id=e.user_id,user_email=e.email):(user_rank=0,user_id=!1),t=user_types[user_rank],(e=document.createElement("link")).rel="stylesheet",e.href="/css/users/"+t+"/icons.css",document.head.appendChild(e),(e=document.createElement("script")).src="/js/users/"+t+"/user."+language+".js",document.head.appendChild(e)}());function stateParser(e){var t,n=[];return e.popup?(n.push("copen"),(t=document.createElement("button")).dataset.to=e.popup):t=document.createElement("div"),e.color&&(t.style.color=e.color),e=e.icon?(n.push("state-wicon"),'<span class="icon-'+e.icon+'"></span><div class="state-info">'+e.text+"</div>"):e.text,t.innerHTML=e,n&&(n=n.join(" "),t.className=n),t.outerHTML}function validMail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function validLogin(e){return""!=e}function validPassword(e){return""!=e}function login(e,t){if(e.preventDefault(),validLogin(e=t.username.value)){if(validPassword(t=t.password.value))return postJSON(general_api_url+"do/signin",function(e){var t,n=!1;switch(e.result){case 1:switch(setLogin(e),t=!0,n=valids.logged,e.rank){case 1:location.href="/yazar/makaleler";break;case 3:location.href="/admin/mesajlar"}break;case-2:n=errors.time_limit;break;case-3:n=errors.time_limit_exceed;break;case-4:n=errors.check_your_infos;break;default:n=errors.try_again}setStatus("log_status",n,t)},{username:e,password:t}),!1;setStatus("log_status",errors.auth_password_error,!1)}else setStatus("log_status",errors.login_username_error,!1)}function setLogin(e){setCookie(site+"_account_infos",e.username+","+e.img+","+e.rank+","+e.user_id+","+e.email)}function setGoogle(){login_google=!0}function onSignIn(e){login_google&&e&&(e={id_token:(e=e.getAuthResponse()).id_token},postJSON(main_api_url+"do/user_google",function(e){1===e.result&&(setLogin(e),location.reload())},e))}function alertParser(e,t){var n=document.createElement("div");return n.className="notification",n.dataset.id=e,n.onclick=seenNotification.bind(null,n),e=[],t.color&&(n.style.color=t.color),d=t.url?'<a href="'+t.url+'">'+t.text+"</a>":t.text,t.icon&&(e.push("state-wicon"),d='<span class="icon-'+t.icon+'"></span>'+d),n.innerHTML=d,e=e.join(" "),n.className=e,n.outerHTML}function seenNotification(e){getJSON(general_api_url+"do/seen_notification",function(e){},{notification_id:e.dataset.id})}function getValue(e){return document.getElementById(e).value}function getV(e){return document.getElementById(e).getAttribute("v")}function getInner(e){return document.getElementById(e).innerHTML}function getChecked(e){return document.getElementById(e).checked}function getData(e,t){return document.getElementById(e).dataset[t]}function setValue(e,t){(e=document.getElementById(e))&&(e.value=t)}function setInner(e,t){document.getElementById(e).innerHTML=t}function setOpen(e){document.getElementById(e).dataset.state="open"}function setSrc(e,t){document.getElementById(e).setAttribute("src",t)}function setAttribute(e,t,n){document.getElementById(e).setAttribute(t,n)}function clearState(e){document.getElementById(e).dataset.state=""}function clearAttribute(e,t){document.getElementById(e).removeAttribute(t)}function setE(e,t,n){e(t,n)}function focusTo(e){document.getElementById(e).focus()}function copen(e){var t=e.dataset.to,n=e.dataset.the,o=e.dataset.next,a=e.dataset.tp,s=e.dataset.tpc,i=e.dataset.tot;if(void 0!==n&&(document.getElementById(n).dataset.state=""),void 0!==t)document.getElementById(t).dataset.state="open";else if(void 0!==o)"open"==e.nextElementSibling.dataset.state?e.nextElementSibling.dataset.state="":e.nextElementSibling.dataset.state="open";else if(void 0!==a){for(;a-=1;)e=e.parentNode;e.parentNode.dataset.state="open"}else if(void 0!==s){for(;s-=1;)e=e.parentNode;e.parentNode.dataset.state=""}else void 0!==i?"open"==(n=document.getElementById(i)).dataset.state?n.dataset.state="":n.dataset.state="open":"open"==e.dataset.state?e.dataset.state="":e.dataset.state="open"}function mcopen(e,t){for(var n,e=e.parentNode,o=document.getElementById(e.getAttribute("to")),a=o.children,s=a.length,i=0;i<s;i++)n=a[i],i!=t?n.removeAttribute("data-state"):n.dataset.state="open";for(a=(o=e.children).length,i=0;i<a;i++)(s=o[i]).dataset.state=i!=t?"":"open"}function asyncGet(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.withCredentials=!0,n.onreadystatechange=function(){4==n.readyState&&(200==n.status?t(n.response):error(errors.connection_error))},n.send()}function postJSON(e,t,n,o){var a=new XMLHttpRequest;a.open("POST",e),a.withCredentials=!0,a.onreadystatechange=function(){4==a.readyState&&(200==a.status?t(JSON.parse(a.responseText),o):error(errors.connection_error))},void 0!==n?(a.setRequestHeader("Content-type","application/json"),a.send(JSON.stringify(n))):a.send()}function postForm(e,t,n,o){var a=new XMLHttpRequest;a.open("POST",e),a.onreadystatechange=function(){4==a.readyState&&(200==a.status?t(JSON.parse(a.responseText),o):error(errors.connection_error))},void 0!==n?a.send(n):a.send()}function getJSON(e,t){var n=new XMLHttpRequest;n.open("GET",e),n.withCredentials=!0,n.onreadystatechange=function(){4==n.readyState&&(200==n.status?t(JSON.parse(n.responseText)):error(errors.connection_error))},n.send()}function setNotifications(e){var t,n,o,a=document.getElementById("notifications_holder");if(a)for(a.dataset.status="filled",(t=e.length)&&0===(n=e[0]).seen&&setEasyAlert(n),i=0;i<t;i++)n=e[i],void 0!==(o=notifications[n.type])&&(a.innerHTML=alertParser(n.id,o))}function getNotifications(e){if(void 0!==e){e=getCookie(site+"_check_notifications");if(e){if((new Date).getTime()-e<6e4)return}else setCookie(site+"_check_notifications",(new Date).getTime(),1)}getJSON(user_api_url+"get/notifications",function(e){1===e.result?setNotifications(e.data):-999===e.result&&logout()},{seen:0})}function setCookie(e,t,n){var o,a="";n&&((o=new Date).setTime(o.getTime()+24*n*60*60*1e3),a="; expires="+o.toUTCString()),document.cookie=e+"="+(t||"")+a+"; path=/;"}function getCookie(e){for(var t=e+"=",n=document.cookie.split(";"),o=0;o<n.length;o++){for(var a=n[o];" "==a.charAt(0);)a=a.substring(1,a.length);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return null}function eraseCookie(e){document.cookie=e+"=;path=/;expires=Thu, 01 Jan 1970 00:00:01 GMT"}function setEasyAlert(e){e=notification[e.type],setAlert({inner:[{icon:e.icon,text:alertParser(e)}],actions:[{action:closeAlert,text:"Kapat",icon:"close"}],timer:3e3});e=new Audio("/tr/wololo.mp3");e.volume=.2,e.play()}function good(){setAlert({inner:[{icon:"icon-success",text:"İşlem Başarılı"}],actions:[{action:closeAlert,text:"Kapat",icon:"close"}],timer:3e3})}function error(e){setAlert({inner:[{icon:"icon-error",text:e}],actions:[{action:closeAlert,text:"Kapat",icon:"close"}],timer:3e3})}function clearStatus(e){(e=document.getElementById(e)).dataset.state="",e.dataset.status=""}function setStatus(e,t,n){t&&((e=document.getElementById(e)).dataset.state="open",e.dataset.status=n?"valid":"error",e.innerHTML=t)}function setInfo(e,t){(e=document.getElementById(e)).dataset.state="open",e.dataset.status="info",e.innerHTML=t}function setEvent(e,t,n){for(var o,a=document.getElementsByClassName(t),s=a.length,i=0;i<s;i++)(o=a[i])[e]=n.bind(null,o,i)}function capitalize(e){return e[0].toUpperCase()+e.substring(1)}function setElems(e,t){for(var n=document.getElementsByClassName(e),o=n.length,a=0;a<o;a++)t(n[0])}function getLogin(){var e=getCookie(site+"_account_infos");return!!e&&{username:(e=e.split(","))[0],img:e[1],rank:e[2],user_id:e[3],email:e[4]}}function clearLogin(){eraseCookie(site+"_account_infos "),user_id=!1}function setGoogle(){login_google=!0}function socialLogout(){"undefined"!=typeof gapi&&void 0!==gapi.auth2&&gapi.auth2.getAuthInstance().signOut()}function logout(){socialLogout(),asyncGet(general_api_url+"do/logout",function(e){clearLogin(),location.href="/"})}function jsonToVar(e){var t,n,o=[];for(t in e){switch(typeof(n=e[t])){case"object":n=JSON.stringify(n);break;case"string":n='"'+n+'"'}o.push(t+" = "+n)}return o="var "+o.join(",")+";"}var firer=[],entities={amp:"&",apos:"'","#x27":"'","#x2F":"/","#39":"'","#47":"/",lt:"<",nbsp:" ",quot:'"'};function decodeHTML(e){return e.replace(/&([^;]+);/gm,function(e,t){return entities[t]||e})}function round(e,t){return void 0===t&&(t=2),e=Math.round(e+"e"+t),Number(e+"e"+-t)}function showPaused(e){e=e.target.previousElementSibling;e&&(e.dataset.state="open")}function hidePaused(e){e.play(),e.previousElementSibling.dataset.state=""}function pauseOrPlayVideo(e){var t=e.target;t.paused?(t.play(),hidePaused(t)):(t.pause(),showPaused(e))}function loadVideos(){for(var e,t=document.getElementsByTagName("video"),n=t.length,o=0;o<n;o++)(e=t[o]).load(),e.dataset.time&&(e.currentTime=e.dataset.time),e.onplay=function(e){e=e.target;e.dataset.time&&e.currentTime==e.dataset.time&&(e.currentTime=0),e.previousElementSibling&&(e.previousElementSibling.dataset.state="")},e.controls||(e.onclick=pauseOrPlayVideo)}