function validMail(e){return/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(String(e).toLowerCase())}function validLogin(e){return""!=e}function validPassword(e){return""!=e}function getLogin(){var e=getCookie(site+"_account_infos");return!!e&&{username:(e=e.split(","))[0],img:e[1],rank:e[2],user_id:e[3],email:e[4]}}function clearLogin(){eraseCookie(site+"_account_infos "),user_id=!1}function logout(){socialLogout(),asyncGet(general_api_url+"do/logout",function(e){clearLogin(),location.href="/"})}function login(e,r){if(e.preventDefault(),validLogin(e=r.username.value)){if(validPassword(r=r.password.value))return postJSON(general_api_url+"do/signin",function(e){var r,o=!1;switch(e.result){case 1:setLogin(e),r=!0,o=valids.logged;break;case-2:o=errors.time_limit;break;case-3:o=errors.time_limit_exceed;break;case-4:o=errors.check_your_infos;break;default:o=errors.try_again}setStatus("log_status",o,r)},{username:e,password:r}),!1;setStatus("log_status",errors.auth_password_error,!1)}else setStatus("log_status",errors.login_username_error,!1)}firer.push(function(){setEvent("onclick","copen",copen)});