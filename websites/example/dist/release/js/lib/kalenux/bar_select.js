var mouse_x,mouse_y,kalenux_toggles=[];function mouseMoved(e){mouse_x=e.pageX,mouse_y=e.pageY}function setKalenuxBars(){for(var e=document.getElementsByClassName("kalenux-bars"),n=e.length,l=0;l<n;l++)kalenuxBar(e[0],l),kalenux_toggles[l]=!1}function kalenuxBar(e,n){var a,t,u,o,d,s,i,c,m=document.createElement("div");for(m.className="kalenux-bar",(o=document.createElement("input")).type="hidden",e.id&&(o.id=e.id),(i=document.createElement("div")).className="kalenux-toggles",i.onmousedown=enableKalenuxTouch.bind(null,i,n),i.ontouchstart=enableKalenuxTouch.bind(null,i,n),window.onmouseup=disableKalenuxTouch.bind(null,n),i.ontouchend=disableKalenuxTouch.bind(null,n),i.onmousemove=kalenuxTouched.bind(null,i,n),i.ontouchmove=kalenuxTouched.bind(null,i,n),(c=document.createElement("div")).className="kalenux-toggle",(d=document.createElement("div")).className="kalenux-toggle-text",d.style="transform: translate(0, -50%);",(s=document.createElement("ul")).className="kalenux-touchs",t=(a=e.options).length,n=0;n<t;n++)u=a[n],(l=document.createElement("li")).className="kalenux-touch",l.dataset.value=u.value,l.innerHTML=u.innerHTML,s.appendChild(l);d.innerHTML=a[0].innerHTML,i.dataset.count=t,m.appendChild(o),m.appendChild(s),i.appendChild(c),i.appendChild(d),m.appendChild(i),e.parentNode.appendChild(m),e.remove()}function kalenuxToggled(e,n){for(var l=e.previousElementSibling,a=l.children,t=a.length,u=0;u<t;u++)a[u].className="kalenux-touch";n=a[h=parseInt(n*t/100)],e.lastElementChild.innerHTML=n.innerHTML,l.previousElementSibling.value=n.dataset.value,n.className="kalenux-touch kalenux-touch-selected"}function kalenuxTouched(e,n){var l;kalenux_toggles[n]&&(e.getBoundingClientRect(),n=e.previousElementSibling.getBoundingClientRect(),l=mouse_x-n.left,n=n.width,e.firstElementChild.style="width:"+(l=100*(l=n<(l=l<0?0:l)?n:l)/n)+"%",e.lastElementChild.style="transform:translate(calc("+n*l/100+"px - 50%), -50%)",kalenuxToggled(e,l))}function enableKalenuxTouch(e,n){kalenux_toggles[n]=!0,kalenuxTouched(e,n)}function disableKalenuxTouch(e){kalenux_toggles[e]=!1}window.onmousemove=mouseMoved;