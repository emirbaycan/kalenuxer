function kalenuxFiles(e){var l=(e=document.getElementsByClassName("kalenux-file")).length;for(i=0;i<l;i++)setKalenuxFile(e[i])}function setKalenuxFile(e){var l,n,a=document.createElement("input");a.className="kalenux-file-input",a.type="file",a.onchange=upload.bind(null,a),(l=document.createElement("div")).className="kalenux-file-holder",(n=document.createElement("div")).className="kalenux-file-name",e.appendChild(a),e.appendChild(l),e.appendChild(n)}function upload(e){(data=new FormData).append("file",e.files[0]),postForm(user_api_url+"upload/file",function(e,l){1===e.result&&(l.nextElementSibling.nextElementSibling.innerHTML=l.elem.filename,l.elem.value=e.filename)},data,{elem:e})}kalenuxFiles();