function kalenuxSelect(a){var b,c,d,e,f,g,h,j,k,i,e=document.createElement("div");if(e.className="kalenux-select",j=document.createElement("input"),j.className=a.className,j.classList.remove("kalenux-selects"),j.classList.add("kalenux-select-input"),j.type="hidden",a.id&&(j.id=a.id),a.dataset.name&&(j.name=a.dataset.name),a.name&&(j.name=a.name),a.readonly&&(j.readonly=a.readonly),a.onchange&&(j.onchange=a.onchange),f=document.createElement("input"),f.className="kalenux-search",f.type="text",f.onfocus=kalenuxSelectOpen.bind(null,e),a.dataset.placeholder&&(f.setAttribute("placeholder",a.dataset.placeholder),delete a.dataset.placeholder),a.dataset.data&&(b=eval(a.dataset.data),b))if(a.dataset.all&&(d=document.createElement("option"),d.value=a.dataset.all,d.innerHTML="Hepsi",a.appendChild(d)),a.dataset.cross)for(c in b)d=document.createElement("option"),d.value=b[c],d.innerHTML=c,a.appendChild(d);else for(c in b)d=document.createElement("option"),d.value=c,d.innerHTML=b[c],a.appendChild(d);for(h in delete a.dataset.data,g=Object.keys(a.dataset),g)k=g[h],j.dataset[k]=a.dataset[k];for(f.onkeydown=kalenuxSearch.bind(null,f),f.oninput=kalenuxSearch.bind(null,f),g=document.createElement("ul"),g.className="kalenux-options",b=a.children,c=b.length,i=0;i<c;i++)d=b[i],h=document.createElement("li"),h.className="kalenux-option",d.value?h.dataset.value=d.value:h.dataset.value=d.dataset.value,h.innerHTML=d.innerHTML,h.onclick=kalenuxSelected.bind(null,h),g.appendChild(h);e.appendChild(j),e.appendChild(f),e.appendChild(g),b=a.parentNode,b.appendChild(e),b.classList.add("loaded"),a.remove(),j.dataset.default&&kalenuxSelectOption(j.id,j.dataset.default)}function kalenuxSelectReset(e){for(var n=(e=(e=document.getElementById(e)).nextElementSibling.nextElementSibling.children).length,a=0;a<n;a++)e[a].dataset.state=""}function kalenuxSelectEnable(e,n){for(var a in e=(e=document.getElementById(e)).nextElementSibling.nextElementSibling.children,n)e[n[a]].dataset.state=""}function kalenuxSelectDisable(e,n){for(var a in e=(e=document.getElementById(e)).nextElementSibling.nextElementSibling.children,n)e[n[a]].dataset.state="disabled"}function kalenuxSelectOpen(e){e.classList.remove("closed"),e.classList.add("opened")}function kalenuxSelectClose(e){e.classList.remove("opened"),e.classList.add("closed")}function kalenuxSelected(e){for(var n,a=e.parentNode,t=a.children,l=t.length,d=0;d<l;d++)t[d].className="kalenux-option";e.className="kalenux-option kalenux-option-selected",(n=a.previousElementSibling).value=e.innerHTML,(n=n.previousElementSibling).value=e.dataset.value,n.onchange&&n.onchange(n),kalenuxSelectClose(e=a.parentNode),setTimeout(kalenuxSelectOpen.bind(null,e),100)}function kalenuxSearch(e){var n,a,t=e.nextElementSibling.children,l=t.length,e=e.value,d=e.toLowerCase();if(""==e)for(a=0;a<l;a++)(n=t[a]).className="kalenux-option";else for(a=0;a<l;a++)-1===(n=t[a]).innerHTML.toLowerCase().indexOf(d)?"kalenux-option kalenux-option-selected"!==n.className&&(n.className="kalenux-option kalenux-option-hidden"):n.className="kalenux-option"}function kalenuxSelectOption(e,n){var a,t,l,d,i,s,o;if((e="string"==typeof e?document.getElementById(e):e)&&void 0!==n&&(0===n||n))if(a=e.nextElementSibling)for(d=(l=(t=a.nextElementSibling).children).length,o=0;o<d;o++)(s=(i=l[o]).dataset.value)==n?(i.className="kalenux-option kalenux-option-selected",e.value=s,a.value=i.innerHTML,-1!==i.innerHTML.indexOf("<span")&&(n=a.nextElementSibling.getElementsByClassName("kalenux-option-selected")[0],(t=document.createElement("div")).className="selected-flag",t.innerHTML=n.firstElementChild.outerHTML,a.replaceWith(t))):i.className="kalenux-option";else console.log(e,n)}function kalenuxFillSelect(e,n){var a,t,l,d;for(a in(t=(e=document.getElementById(e)).nextElementSibling.nextElementSibling).innerHTML="",n)l=n[a],(d=document.createElement("li")).className="kalenux-option",d.onclick=kalenuxSelected.bind(null,d),l.id?(d.dataset.value=l.id,d.innerHTML=l.name):(d.dataset.value=a,d.innerHTML=l),t.appendChild(d)}firer.push(function(){setElems("kalenux-selects",kalenuxSelect)});